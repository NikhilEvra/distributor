<ion-header mode="ios">
  <ion-toolbar color="danger">
    <ion-buttons>
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Replacement</ion-title>
    <ion-buttons slot="end">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="form">
    <ion-input type="hidden" placeholder="{{getuserdata.id}}" readonly="" value="{{getuserdata.id}}" formControlName="name"> </ion-input>
    <ion-input type="hidden" placeholder="{{event.event}}" readonly="" value="{{event.event}}" formControlName="sparepart"> </ion-input>

  <section class="inputbox">
    <ion-text color="danger">Chassis Number</ion-text>
    <ion-item lines="none">
    <ion-input type="text" placeholder="Enter Chassis Name" formControlName="chassis"></ion-input>
    </ion-item>
  </section> 

  <ion-row>
    <ion-col >
      <ion-button expand="block" color="danger" shape="round" (click)="submit()" [disabled]="form.invalid">Submit <ion-icon name="send-outline" slot="end"></ion-icon> </ion-button>
    </ion-col>
  </ion-row>
</form> 

<div *ngIf="myfun">
  <ion-card  >
    <ion-card-header color="danger" style="text-align: center;">{{response.model_name}}-{{response.color}} </ion-card-header>  
       <ion-card-content>
        <ion-item>
          <ion-label>Name </ion-label>
          <ion-text>{{response.c_name}}</ion-text>
        </ion-item>
        <ion-item>
          <ion-label>Dealer ID </ion-label>
          <ion-text>{{response.dealer}}</ion-text>
        </ion-item>
         <ion-item>
           <ion-label>Sale Date</ion-label>
           <ion-text>{{response.sale_date}}</ion-text>
         </ion-item>
        
         <ion-item>
          <ion-label>Warranty Till</ion-label>
          <ion-text>{{response.warranty}}</ion-text>
        </ion-item>
        <ion-item>
          <ion-label>Spare Part Name</ion-label>
          <ion-text>{{event.event}}</ion-text>
        </ion-item>
        <ion-item>
          <ion-label>Spare Part No</ion-label>
          <ion-text>{{response.sparepart}}</ion-text>
        </ion-item>
    
        <ion-item>
          <ion-label>Replace / Repair</ion-label>
          <ion-text><ion-button color="danger" (click)="setOpen(true)"> YES</ion-button></ion-text>
        </ion-item>
      
       </ion-card-content>
     </ion-card>
</div>

<!-- <ion-button expand="block" (click)="setOpen(true)">Open</ion-button> -->
  <ion-modal [isOpen]="isModalOpen">
    <ng-template>
      <ion-header>
        <ion-toolbar color="danger">
          <ion-title>{{event.event}}</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="setOpen(false)">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content >
        <form [formGroup]="form2">
          <ion-input type="hidden" placeholder="{{getuserdata.id}}" readonly="" value="{{getuserdata.id}}" formControlName="name"> </ion-input>
         
        <section class="inputbox">
          <ion-text color="danger">Spare Part Number</ion-text>
          <ion-item lines="none">
          <ion-input type="text" placeholder="{{response.sparepart}}" formControlName="part_no" value="{{response.sparepart}}" readonly=""></ion-input>
          </ion-item>
        </section> 
        <section class="inputbox">
          <ion-text color="danger">Warranty Info</ion-text>
          <ion-item lines="none">
          <ion-input type="text" placeholder="{{response.in_w}}" formControlName="warranty_info" value="{{response.in_w}}" readonly=""></ion-input>
          </ion-item>
        </section> 
        <section class="inputbox">
          <ion-text color="danger">Remark</ion-text>
          <ion-item lines="none">
            <ion-textarea rows="4" maxlength="200" placeholder="Enter Remarks..." formControlName="remark"></ion-textarea>
          </ion-item>
        </section>
        <section class="inputbox">
          <ion-text color="danger">Dealer Sale Invoice</ion-text>
          <ion-item lines="none">
            <!-- <ion-button color="danger"  ><ion-icon name="camera" ></ion-icon></ion-button>  -->
            <input type="file" (change)="uploadPhoto($event)"   />
          </ion-item>
        </section>

        <ion-row>
          <ion-col >
            <ion-button expand="block" color="danger" shape="round" (click)="presentAlert()"  [disabled]="form2.invalid">Submit <ion-icon name="send-outline" slot="end"></ion-icon> </ion-button>
          </ion-col>
        </ion-row>
      </form> 
      </ion-content>
    </ng-template>
  </ion-modal>

</ion-content>
