<ion-header mode="ios">
  <ion-toolbar color="danger">
    <ion-title>SpareParts Catalog</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-buttons slot="end"> 
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
 
  <ion-card >
    <ion-card-header color="danger" style="font-weight: bold; text-align: center;">{{model_name}} Spare Parts</ion-card-header>
    <ion-card-content>
      <ion-item *ngFor="let dat of spareparts, index as i">
    
      
     <ion-label> {{dat.item}} </ion-label>
        <ion-text (click)="setOpen(true)" (click)="getdata(dat.item,i)" >
          <ion-button color="danger">
            <ion-icon name="add-outline"></ion-icon>
          </ion-button>
        </ion-text>
      </ion-item>
   
    </ion-card-content>
  </ion-card>


  
  <ion-modal [isOpen]="isModalOpen">
    <ng-template>
      <ion-header>
        <ion-toolbar color="danger"> 
          <ion-title>Add To Cart</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="setOpen(false)">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <form [formGroup]="form">
        <section class="inputbox">
          <ion-text color="danger">Model</ion-text>
          <ion-item lines="none">
            <ion-input type="text" placeholder="{{model_name}}" value="{{model_name}}" formControlName="model" readonly="" > </ion-input>
          </ion-item>
        </section>

        <section class="inputbox">
          <ion-text color="danger">Item</ion-text>
          <ion-item lines="none">
            <ion-input type="text" placeholder="{{i_name}}" value="{{i_name}}" formControlName="item_name" readonly=""> </ion-input>
          </ion-item>
        </section>

        <section class="inputbox">
          <ion-text color="danger">Quantity</ion-text>
          <ion-item lines="none">
            <ion-input type="number" placeholder="Enter Quantity"  formControlName="quantity" (ionChange)="calculate()" > </ion-input>
          </ion-item>
        </section>
        <section class="inputbox">
          <ion-text color="danger">Price</ion-text>
          <ion-item lines="none">
            <ion-input type="number" placeholder="{{totalprice}}"  formControlName="t_price" value="{{totalprice}}" readonly=""> </ion-input>
          </ion-item>
        </section>
      
        
      
      
         
        <ion-row>
          <ion-col >
            <ion-button expand="block" color="danger" shape="round" (click)="submit()" [disabled]="form.invalid">Add To cart <ion-icon name="send-outline" slot="end"></ion-icon></ion-button>
          </ion-col>
        </ion-row> 
      </form> 
      </ion-content>
    </ng-template>
  </ion-modal>

  <!-- <ion-accordion-group [multiple]="true" [value]="['first']" >
    <ion-accordion value="first"  *ngFor="let dat of spareparts">
      <ion-item slot="header">
        <ion-label>{{dat.item}}</ion-label>
      </ion-item>
      <div class="ion-padding" slot="content">{{dat.qty}}</div>
    </ion-accordion> 

  </ion-accordion-group>-->
</ion-content>
